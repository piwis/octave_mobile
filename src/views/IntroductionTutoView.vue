<template>
    <div class="introduction-tuto">
        <!--<span style="position: absolute;top: 20px; left:50px">-->
            <!--{{this.posX}}-->
        <!--</span>-->
        <transition-group name="fade" mode="out-in" class="transition-slide">

            <div key="1" v-show="userRotateScreen">
                <svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 460 342" style="enable-background:new 0 0 460 342;" xml:space="preserve">
<g>
	<path class="st0" d="M381.5,134.5l0,0.2c2.7,12.2,8.6,24.4,14.4,34.2c3.5-6.3,5-14.4,5-23.6c0-2.3-0.1-4.8-0.3-7.2
		c-0.1-0.1-0.2-0.1-0.2-0.2l-0.1-0.1l-0.4-0.4c-0.4-0.4-0.9-1-1.6-1.7c-1.4-1.4-3.4-3.5-5.9-5.7c-4.2-3.9-9.9-8.5-16.3-12.4
		c0.4,1.2,0.7,2.3,1.1,3.5C379.5,128,381.5,134.5,381.5,134.5z"/>
	<path class="st0" d="M399.8,130.4c-1.8-12.9-5.4-26.5-9.5-38.6c-5.6-17-11.9-31.1-14.5-36.7c-0.1-0.3-0.3-0.6-0.4-0.9v57.4
		C386.2,117.5,395,125.5,399.8,130.4z"/>
	<path class="st0" d="M70.3,91.8c-4,12.2-7.7,25.8-9.5,38.6c4.3-4.3,11.7-11.1,20.8-16.7V62.3C78.5,69.4,74.2,79.9,70.3,91.8z"/>
	<path class="st0" d="M60.3,137.7l-0.1,0.1l0,0c-0.1,0.1-0.2,0.1-0.2,0.2c-0.2,2.4-0.3,4.9-0.3,7.2c0,9.2,1.5,17.3,5,23.6
		c5.8-9.8,11.7-22,14.4-34.2l0-0.2c0,0,1-3.4,2.4-8v-7.2C69.9,127,61.4,136.5,60.3,137.7z"/>
	<path class="st1" d="M457.3,140.7c-4.5-9.9-18.1-40.7-30.6-69.1c-6.3-14.2-12.2-27.8-16.7-37.8c-2.2-5-4-9.1-5.3-12
		c-1.3-2.9-2-4.5-2-4.5l0-0.1c-0.1-0.1-2.1-4.2-5.6-8.5c-1.8-2.1-3.9-4.3-6.5-6C388,1.2,385,0,381.6,0c-2.5,0-5.2,0.7-7.8,2.2
		c-2.6,1.5-4.4,3.6-5.8,5.9c0.9,0.6,1.7,1.3,2.5,2.1c0.4,0.4,0.7,0.8,1.1,1.2c1-2.1,2.4-3.8,4.6-5.1c2-1.2,3.8-1.6,5.4-1.6
		c2.2,0,4.3,0.8,6.4,2.1c3.1,2,5.7,5.1,7.6,7.8c0.9,1.3,1.7,2.5,2.2,3.4c0.2,0.4,0.4,0.8,0.6,1l0.1,0.3l0,0
		c1,2.2,45.7,103.8,54.6,123.3c2.5,5.4,3.4,11.8,3.4,18.2c0,7.6-1.3,15-2.6,20.5c-0.6,2.8-1.3,5-1.8,6.6c-0.2,0.8-0.4,1.4-0.6,1.8
		l-0.2,0.5l-0.1,0.1l0,0c-11.7,32.2-15.2,61.9-15.2,86.2c0,13.2,1.1,24.8,2.5,34.5c2.7,18.7,6.8,29.8,6.8,29.9
		c0.4,1.2,1.8,1.8,3,1.4c1.2-0.4,1.8-1.8,1.4-3l0,0l0-0.1c-0.5-1.3-9-25.7-9-62.7c0-23.9,3.5-53,15-84.6l0,0c0-0.1,5.4-15,5.4-31.2
		C461.1,154.1,460.1,147,457.3,140.7z"/>
	<path class="st1" d="M9.4,190.4L9.4,190.4l0-0.1c-0.5-1.5-5.1-15.3-5.1-29.4c0-6.3,0.9-12.8,3.4-18.2
		c8.9-19.6,53.6-121.3,54.6-123.4c0.2-0.4,2.2-4.2,5.3-7.8c1.6-1.8,3.4-3.6,5.4-4.8c2-1.3,4.1-2,6.2-2c1.7,0,3.4,0.4,5.4,1.6
		c1.4,0.8,2.4,1.8,3.2,2.9c1.2-1,2.5-1.8,4-2.4c-1.3-1.7-2.8-3.3-4.8-4.5C84.2,0.7,81.5,0,79,0c-3.4,0-6.4,1.2-8.9,2.9
		c-3.8,2.5-6.8,6.1-8.9,9.1c-2.1,3-3.2,5.3-3.3,5.4l0,0.1c0,0-0.7,1.6-2,4.5C47.1,42,11.2,123.5,3.4,140.7
		c-2.8,6.3-3.8,13.3-3.8,20.1c0,16.1,5.4,31,5.4,31.2l0,0c11.4,31.7,15,60.8,15,84.6c0,19.1-2.3,34.9-4.5,45.8
		c-1.1,5.5-2.3,9.7-3.1,12.6c-0.4,1.4-0.8,2.5-1,3.3c-0.1,0.4-0.2,0.6-0.3,0.8l-0.1,0.2l0,0.1c-0.4,1.2,0.2,2.5,1.4,3
		c1.2,0.4,2.5-0.2,3-1.4h0c0-0.1,4.1-11.2,6.8-29.9c1.4-9.6,2.5-21.2,2.5-34.5C24.6,252.3,21,222.6,9.4,190.4z"/>
	<path class="st2" d="M87.7,9.1c-0.4,0.3-0.8,0.7-1.2,1.1c-3.1,3-4.9,7.3-4.9,12v28.6v11.5v51.4v5.5v7.2c0.3-1,0.6-1.9,0.9-3
		c1.9-6,4.1-12.9,5.6-16.9c0.4-1.2,0.8-2.1,1.1-2.7c1.1-2.2,3.3-5.5,6.8-8.4c1.9-1.6,4.3-3.1,6.9-4.1c0-14.9,0-29.9,0-44.7
		c0-2.1,3-2.1,3,0c0,14.5,0,29.2,0,43.8c1.2-0.2,2.4-0.4,3.7-0.4c1.4,0,2.8,0.1,4.2,0.5c0.8,0.2,1.6,0.4,2.4,0.7V25.4
		c0-3.6,2.9-6.5,6.5-6.5h211.7c3.6,0,6.5,2.9,6.5,6.5v67.6c1.7-1.1,3.6-1.9,6-2.4c1.5-0.3,2.9-0.5,4.2-0.5c0.1,0,0.3,0,0.4,0
		c0-14.5,0-29.1,0-43.5c0-2.1,3-2.1,3,0c0,14.5,0,29.2,0,43.8c4.1,0.7,7.5,2.7,10.2,5c3.4,2.9,5.7,6.1,6.8,8.4
		c0.3,0.7,0.7,1.6,1.1,2.7c0.4,1.1,0.9,2.5,1.4,4.1c0.5,1.4,1,2.9,1.5,4.5v-3.5V54.2v-12v-20c0-4.1-1.5-7.9-3.9-10.8
		c-0.3-0.4-0.7-0.8-1.1-1.2c-0.8-0.8-1.6-1.4-2.5-2.1c-2.7-1.8-6-2.9-9.5-2.9H98.5c-2.4,0-4.7,0.5-6.8,1.4
		C90.2,7.3,88.9,8.2,87.7,9.1z M353,36.8c-1.3,0-2.4-1.1-2.4-2.4c0-1.3,1.1-2.4,2.4-2.4s2.4,1.1,2.4,2.4
		C355.4,35.7,354.3,36.8,353,36.8z"/>
	<path class="st2" d="M340,143.1c-1.1,2-3.2,3.4-5.6,3.4H122.7c-1,0-2-0.3-2.9-0.7c-1.4,4.6-2.5,9.4-3.3,14.1h227.7
		C343.2,154.3,341.8,148.6,340,143.1z"/>
	<polygon class="st3" points="123.8,108 123.8,108 123.8,108 	"/>
	<path class="st1" d="M119.8,145.8c1-3.4,2.2-6.7,3.4-9.8c5.3-13.3,5.3-27.8,5.3-28.2l0-0.2c0-0.2-0.2-3.5-2.2-7.4
		c-1-1.9-2.4-4-4.4-5.7c-1.5-1.3-3.4-2.5-5.7-3.3c-0.7-0.3-1.5-0.5-2.4-0.7c-1.5-0.3-2.9-0.5-4.2-0.5c-1.3,0-2.5,0.1-3.7,0.4
		c-1.1,0.2-2.1,0.5-3,0.9c-2.7,1-5,2.4-6.9,4.1c-3.4,2.9-5.7,6.1-6.8,8.4c-0.3,0.7-0.7,1.6-1.1,2.7c-1.5,4-3.7,10.9-5.6,16.9
		c-0.3,1-0.6,2-0.9,3c-1.4,4.6-2.4,8-2.4,8l0,0.2c-2.7,12.2-8.6,24.4-14.4,34.2c-3.5-6.3-5-14.4-5-23.6c0-2.3,0.1-4.7,0.3-7.2
		c0.1-0.1,0.2-0.1,0.2-0.2l0,0l0.1-0.1c1.1-1.3,9.6-10.8,21.3-18.5v-5.5c-9.1,5.6-16.5,12.4-20.8,16.7c1.8-12.9,5.4-26.5,9.5-38.6
		c4-11.9,8.2-22.4,11.3-29.6V50.8c-0.4,0.8-0.7,1.6-1.1,2.4c-2.6,5.7-9,20-14.7,37.2C60.1,107.6,55,127.7,55,145.3
		c0,10.6,1.9,20.4,7,28c-3.3,5.1-6.3,9.4-8.5,12.4c-1.1,1.5-2.1,2.7-2.7,3.5c-0.3,0.4-0.6,0.7-0.7,0.9l-0.2,0.3
		c-0.8,1-0.7,2.5,0.3,3.3c1,0.8,2.5,0.7,3.3-0.3l0,0c0-0.1,6-7.1,12.7-17.7c6.7-10.7,14.3-24.9,17.6-39.8c0-0.1,0.5-1.7,1.3-4.1
		c1.1-3.8,2.9-9.5,4.6-14.7c0.8-2.6,1.6-5,2.3-7c0.7-2,1.3-3.5,1.6-4.1c0.7-1.6,2.7-4.5,5.5-6.8c2.8-2.4,6.4-4.2,10.7-4.2
		c1,0,2.1,0.1,3.3,0.4c2.6,0.6,4.5,1.6,6,2.9c2.2,1.9,3.5,4.4,4.2,6.4c0.3,1,0.5,1.9,0.7,2.5c0.1,0.3,0.1,0.6,0.1,0.7l0,0.2
		c0,1.2-0.3,14.7-4.9,26.3c-4.5,11.3-8.1,25.2-8.1,37.2c0,1.8,0.1,3.6,0.3,5.3c0.6,6.1,1.7,19.9,2.7,32.5c0.5,6.3,0.9,12.4,1.3,17.1
		c0.4,4.7,0.6,8.1,0.7,9.2c0,0.2,0.1,1,0.1,1.9c0,4-0.4,12.3-0.9,19.9c-0.2,3.8-0.5,7.5-0.8,10.4c-0.1,1.5-0.3,2.7-0.4,3.7
		c-0.1,1-0.3,1.7-0.3,1.8c-0.4,1.1-0.8,2.7-1.4,4.7c-1.8,6.1-5.3,15.8-12.2,23c-4.6,4.8-10.4,8.1-15.1,10.1c-2.3,1-4.4,1.7-5.8,2.2
		c-0.7,0.2-1.3,0.4-1.7,0.5l-0.4,0.1l-0.1,0l0,0l0,0c-1.3,0.3-2,1.6-1.7,2.8c0.3,1.3,1.6,2,2.8,1.7c0.1,0,3.8-0.9,8.9-3.1
		c0.8-0.3,1.6-0.7,2.4-1.1c-0.2,5.5-1.1,16.1-5.4,24.8c-0.6,1.2-0.1,2.6,1.1,3.1c1.2,0.6,2.6,0.1,3.1-1.1c5.4-11.3,5.9-24.3,5.9-29
		c0-0.2,0-0.3,0-0.4c3.2-2,6.5-4.4,9.5-7.5c5.2-5.4,8.5-11.9,10.7-17.4c1.1-2.8,1.9-5.3,2.6-7.4c0.6-2.1,1.1-3.7,1.4-4.6
		c0.2-0.7,0.4-1.5,0.5-2.6c0.5-3.8,1.1-10.6,1.5-17.4c0.4-6.8,0.7-13.6,0.7-17.3c0-1.1,0-1.8-0.1-2.4c-0.1-0.9-0.4-4.3-0.7-9
		c-1.1-14.2-3-40.5-4-49.8c-0.2-1.5-0.2-3.1-0.2-4.8c0-3.6,0.4-7.6,1-11.6C117.2,155.2,118.4,150.4,119.8,145.8z M123.8,108
		L123.8,108L123.8,108L123.8,108z"/>
	<path class="st1" d="M360.9,301.1c-4.6-4.8-7.7-10.7-9.8-15.9c-1-2.6-1.8-5-2.4-7.1c-0.6-2-1-3.6-1.4-4.7c0-0.1-0.2-0.8-0.3-1.8
		c-0.5-3.4-1-10.2-1.4-17c-0.4-6.8-0.7-13.6-0.7-17c0-1,0-1.7,0.1-1.9v0c0.1-1.1,0.4-4.4,0.7-9.2c1.1-14.2,3-40.5,4-49.7v0
		c0.2-1.7,0.3-3.5,0.3-5.3c0-12-3.6-25.8-8.1-37.2c-4.7-11.6-4.9-25.1-4.9-26.3c0-0.3,0.3-3.1,1.8-5.9c0.8-1.4,1.8-2.9,3.3-4.1
		c1.5-1.2,3.3-2.2,5.9-2.8c1.1-0.2,2.2-0.4,3.3-0.4c4.2,0,7.8,1.8,10.7,4.2c2.8,2.3,4.8,5.3,5.5,6.8c0.2,0.4,0.5,1.2,0.9,2.3
		c1.4,3.8,3.6,10.8,5.5,16.7c0.9,3,1.8,5.7,2.4,7.7c0.6,2,1,3.2,1,3.2c3.3,14.9,10.9,29.2,17.6,39.8c6.7,10.7,12.7,17.7,12.7,17.7
		c0.8,1,2.3,1.1,3.3,0.3c1-0.8,1.1-2.3,0.3-3.3h0l-0.2-0.3c-1.2-1.4-6.3-7.7-12-16.8c5.1-7.6,7-17.4,7-28c0-17.6-5.1-37.7-10.8-54.9
		c-5.7-17.2-12.1-31.5-14.7-37.2c-1.5-3.2-3.1-7-4.6-11v12c0.1,0.3,0.3,0.6,0.4,0.9c2.6,5.6,8.9,19.8,14.5,36.7
		c4,12.1,7.7,25.7,9.5,38.6c-4.9-4.9-13.7-12.9-24.4-18.9v3.5c-0.5-1.6-1-3.1-1.5-4.5c-0.5-1.5-1-2.9-1.4-4.1
		c-0.4-1.2-0.8-2.1-1.1-2.7c-1.1-2.2-3.3-5.5-6.8-8.4c-2.7-2.2-6.1-4.2-10.2-5c-1-0.2-2-0.3-3-0.3c-0.1,0-0.3,0-0.4,0
		c-1.4,0-2.8,0.1-4.2,0.5c-2.3,0.5-4.3,1.3-6,2.4c-0.8,0.5-1.5,1-2.1,1.5c-3.1,2.6-4.7,5.9-5.5,8.5c-0.9,2.6-1,4.5-1,4.6l0,0.2
		c0,0.4,0,14.9,5.3,28.2c0.9,2.3,1.8,4.7,2.6,7.1c1.8,5.4,3.2,11.2,4.1,16.7c0.7,4,1,7.9,1,11.6c0,1.7-0.1,3.3-0.2,4.8v0
		c-0.6,6.3-1.7,20-2.7,32.7c-0.5,6.3-0.9,12.4-1.3,17.1c-0.4,4.7-0.6,8.1-0.7,9v0c-0.1,0.6-0.1,1.4-0.1,2.5c0,4.2,0.4,12.5,0.9,20.2
		c0.3,3.9,0.5,7.6,0.8,10.6c0.2,1.5,0.3,2.8,0.5,3.9c0.2,1.1,0.3,1.9,0.5,2.6c0.3,0.8,0.7,2.5,1.4,4.6c1.9,6.3,5.5,16.7,13.3,24.9
		c2.9,3.1,6.3,5.5,9.5,7.5c0,0.1,0,0.3,0,0.4c0,4.7,0.5,17.8,5.9,29c0.6,1.2,2,1.6,3.1,1.1c1.2-0.6,1.6-2,1.1-3.1
		c-4.2-8.7-5.2-19.3-5.4-24.8c0.8,0.4,1.6,0.8,2.4,1.1c5,2.2,8.8,3.1,8.9,3.1c1.3,0.3,2.5-0.5,2.8-1.7c0.3-1.3-0.5-2.5-1.7-2.8l0,0
		c0,0,0,0,0,0c-0.4-0.1-3.9-1-8.4-3C370.9,309,365.3,305.7,360.9,301.1z M392.5,129.9c2.5,2.3,4.5,4.3,5.9,5.7
		c0.7,0.7,1.2,1.3,1.6,1.7l0.4,0.4l0.1,0.1c0.1,0.1,0.2,0.1,0.2,0.2c0.2,2.4,0.3,4.9,0.3,7.2c0,9.2-1.5,17.3-5,23.6
		c-5.8-9.8-11.7-22-14.4-34.2l0-0.2c0,0-2-6.5-4.2-13.6c-0.4-1.2-0.7-2.3-1.1-3.5C382.6,121.4,388.3,126,392.5,129.9z"/>
</g>
</svg>

            </div>
            <div key="2" v-show="!userRotateScreen" class="sliders">
                <div class="slideshow">

                    <div class="slide">
                        <p class="title bold">
                            Avancer
                        </p>
                        <div class="lottie lottie-avance">
                        </div>
                    </div>
                    <div class="slide">
                        <p class="title bold">
                            Tourner
                        </p>
                        <div class="lottie lottie-turn">

                        </div>
                    </div>
                    <div class="slide">
                        <div class="drag-left">
                            <svg version="1.1" id="drag-vol" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     viewBox="0 0 91.3 405" style="enable-background:new 0 0 91.3 405;" xml:space="preserve">
                <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="860.15" y1="-5614.0601" x2="860.15" y2="-5253.0601" gradientTransform="matrix(1 0 0 -1 -799 -5214.0601)">
                    <stop  offset="0" style="stop-color:#5F86FF;stop-opacity:0"/>
                    <stop  offset="0.5" style="stop-color:#5F86FF"/>
                    <stop  offset="1" style="stop-color:#5F86FF;stop-opacity:0"/>
                </linearGradient>
                <path class="drag-vol-trait" d="M31,39h15.9c0,0,44.4,89.9,44.4,180c0,90.4-44.4,181-44.4,181H31c0,0,44.4-90.4,44.4-180.9
                    C75.4,129.1,31,39,31,39z"/>
                <g id="circle-vol">
                    <circle class="st1_up" cx="39" cy="39" r="39"/>
                    <path class="st2 haut-deux" d="M39.1,15.5c0.3,0,0.6,0.1,0.9,0.4l14.5,14.5c0.4,0.5,0.4,1.3-0.1,1.7s-1.1,0.4-1.6,0L39.1,18.4L25.4,32.1
                    c-0.5,0.5-1.2,0.5-1.7,0s-0.5-1.2,0-1.7l14.6-14.5C38.4,15.6,38.7,15.5,39.1,15.5z"/>
                    <path class="st2 bas-deux" d="M39,62.5c-0.3,0-0.6-0.1-0.9-0.4L23.6,47.6c-0.4-0.5-0.3-1.3,0.2-1.7c0.4-0.3,1-0.3,1.5,0L39,59.6l13.7-13.7
                    c0.5-0.4,1.3-0.4,1.7,0.1c0.4,0.5,0.4,1.1,0,1.6L39.9,62.1C39.6,62.4,39.3,62.5,39,62.5z"/>
                    <path class="haut" d="M39.75,27.53 C40.165497,27.5343501 40.5632229,27.6991735 40.86,27.99 L59.64,46.77 C60.2557974,47.3830361 60.258036,48.3792025 59.6449999,48.9949999 C59.0319639,49.6107974 58.0357975,49.613036 57.42,49 L39.75,31.31 L22.08,49 C21.4669639,49.6157975 20.4707975,49.6180361 19.855,49.005 C19.2392025,48.3919639 19.2369639,47.3957975 19.85,46.78 L38.64,28 C38.9327226,27.701878 39.3322012,27.5327293 39.75,27.53 Z" id="Shape" fill="#FFFFFF"></path>
                    <path class="bas" d="M39.7,49.5c-0.4,0-0.8-0.2-1.1-0.5L19.9,30.2c-0.6-0.6-0.6-1.6,0-2.2c0.6-0.6,1.6-0.6,2.2,0
                    l17.7,17.7L57.4,28c0.6-0.6,1.6-0.6,2.2,0c0.6,0.6,0.6,1.6,0,2.2L40.9,49C40.6,49.3,40.2,49.5,39.7,49.5z" fill="#FFFFFF"/>

                </g>
                </svg>
                            <div class="up">
                                <span class="top bold"></span>
                                <span>Monter</span>
                            </div>
                            <div class="bottom bold">
                                <span class="bot"></span>
                                <span>Descendre</span>

                            </div>
                        </div>
                    </div>
                    <div class="slide niveau">

                        <p class="title bold">
                            Niveau d'énergie
                        </p>

                        <div class="lottie lottie-battery"></div>
                        <div class="lottie-exit" @click="goToNextView"></div>
                    </div>

                </div>
                <button class="boxnav__item boxnav__item--prev">
                    <svg
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="11.805px" height="16.805px">
                        <path fill-rule="evenodd" stroke="rgb(0, 3, 135)" stroke-width="1.87px" stroke-linecap="butt"
                              stroke-linejoin="miter" fill="none"
                              d="M7.646,14.935 L0.936,7.936 L7.646,0.935 "/>
                    </svg>
                </button>
                <button class="boxnav__item boxnav__item--next">
                    <svg
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="11.805px" height="16.805px">
                        <path fill-rule="evenodd" stroke="rgb(0, 3, 135)" stroke-width="1.87px" stroke-linecap="butt"
                              stroke-linejoin="miter" fill="none"
                              d="M2.963,0.935 L9.935,7.935 L2.963,14.935 "/>
                    </svg>

                </button>
                <nav class="boxnav">
                    <div class="boxnav__item boxnav__item--label">
                        <span class="boxnav__label boxnav__label--current">1</span>
                        <span class="espace">/</span>
                        <span class="boxnav__label boxnav__label--total"></span>
                    </div>

                </nav>
                <ul>
                    <li @click="currentSlide = 4" class="dots-item current pulse"></li>
                    <li @click="currentSlide = 4" class="dots-item"></li>
                    <li @click="currentSlide = 4" class="dots-item"></li>
                    <li @click="currentSlide = 4" class="dots-item"></li>
                </ul>
            </div>
        </transition-group>


    </div>
</template>

<script>

    import {Draggable} from 'gsap/Draggable'
    import {TweenMax} from 'gsap'
    import Slideshow from "../utils/Slider";
    import * as UMath from "../utils/UMath";
    import {ColorData} from "../assets/datas/ColorData";


    var GyroNorm = require('gyronorm');

    export default {
        name: 'introduction-view',

        data() {
            return {
                userDragToTop: false,
                userDragToBottom: false,
                userRotateScreen: true,
                lookAtScreen: true,
                sliderBuild: false,
                currentSlide: 0,
                counter: 1,
                foward: false,
                testX: null,
                leftAndRight: false,
                landscapeOrientation: false,
                unlockFoward: true,
                unlockLeftAndRight: true,
                emitDrag: false,
                posX: 0,
                posY: 0,
            }
        },

        sockets: {

            startIntroduction: function (data) {
                // emit
                //this.$router.push('introduction')
            }
        },
        methods: {

            startIntroduction() {
                this.lookAtScreen = false;
                this.useHeadPhone = true;
                this.$socket.emit("startIntroduction", true)
            },
            nextSlide() {
                this.counter++;
            },

            rotationScreen() {

                var supportsOrientationChange = "onorientationchange" in window,
                    orientationEvent = supportsOrientationChange ? "orientationchange" : "resize";

                window.addEventListener(orientationEvent, () => {
                    if (window.orientation === 90 || window.orientation === -90) {
                        this.landscapeOrientation = true;
                        this.sliderBuild = true;
                        this.userRotateScreen = false
                    } else {
                        this.sliderBuild = false;
                        this.landscapeOrientation = false;
                        this.userRotateScreen = true
                    }
                }, false);
            },
            initGyroscope() {
                var args = {
                    frequency: 50,
                    gravityNormalized: true,
                    orientationBase: GyroNorm.GAME,
                    decimalCount: 2,
                    logger: null,
                    screenAdjusted: false
                };
                var gn = new GyroNorm();
                gn.init(args).then(() => {
                    gn.start((data) => {

                        if (this.landscapeOrientation && !this.userRotateScreen) {
                            if (data.do.gamma > -90 && data.do.gamma < 0 && data.do.beta < 100 && data.do.beta > -100) {
                                this.posY = UMath.normalize(data.do.gamma, 0, -90);
                                this.posX = UMath.normalize(data.do.beta, -180, 180);
                            } else if (data.do.gamma < 90 && data.do.gamma > 0 && data.do.beta < 100 && data.do.beta > -100) {
                                this.posY = UMath.normalize(data.do.gamma, 0, 90);
                                this.posX = UMath.normalize(data.do.beta, -180, 180);
                            }

                            if (this.posY > 0.8 && !this.foward && this.unlockFoward) {
                                this.foward = true
                            } else if (this.foward && this.posY < 0.5) {
                                // EMIT SOCKET
                                this.slide.navigateDots(1)
                                if (this.foward) {
                                    this.$socket.emit("movingIntroduction", true)
                                }
                                this.foward = false
                                this.unlockFoward = false
                            }

                            // Vérife coté
                            if (this.posX > 0.53 && !this.leftAndRight && this.unlockLeftAndRight && !this.unlockFoward) {
                                this.leftAndRight = true
                            } else if (this.leftAndRight && this.posX < 0.45 && !this.unlockFoward) {
                                if (this.leftAndRight) {
                                    setTimeout(() => {
                                        this.leftAndRight = false
                                        this.$socket.emit("movingIntroduction", true)
                                        this.slide.navigate('right')
                                        this.slide.navigateDots(2)
                                        console.log("JE LOCK");
                                    }, 1000)
                                    gn.end()
                                }

                            }
                        }


                    });
                }).catch(function (e) {
                    console.log("Erreur", e);
                });

            },
            initDragAndDrop: function () {
                Draggable.create(".coucou", {type: "rotation", throwProps: true});
                var DEG = 180 / Math.PI;

                var D = document.createElement('div');
                TweenMax.set('svg', {overflow: "visible"})
                var w = document.querySelector("svg").getBoundingClientRect().width;
                var h = document.querySelector("svg").getBoundingClientRect().height;


                var tl = new TimelineMax({paused: true})
                    .to('#circle-vol', 1, {
                        bezier: {
                            type: "quadratic",
                            values: [
                                {
                                    x: 0,
                                    y: 0,
                                    rotation: 0
                                },
                                {
                                    x: 85,
                                    y: 280,
                                    rotation: 0
                                }, {
                                    x: 0,
                                    y: 320,
                                }]
                        }, ease: Linear.easeNone
                    }, 0);

                let that = this;

                var StartX, StartY;
                var progress = 0;

                this.drag = Draggable.create(D, {
                    trigger: "#circle-vol",
                    type: 'x,y',
                    throwProps: true,
                    onThrowUpdate: true,
                    onRelease: function () {
                    },
                    bounds: {minY: 0, maxY: 300},
                    onDrag: function () {
                        Update(this.y, that)
                    },
                });

                function Update(y, that) {
                    let thatDrag = that;
                    let percent = Math.abs(y / 270);
                    tl.progress(percent)
                    document.querySelector(".haut-deux").classList.add("remove")
                    document.querySelector(".bas-deux").classList.add("remove")
                    if (percent > 0.5 && percent < 1) {
                        // DESCENTE
                        document.querySelector(".bas").classList.add("opacity")
                        document.querySelector(".haut").classList.remove("opacity")
                        thatDrag.userDragToBottom = true
                    } else if (percent < 0.5) {
                        document.querySelector(".bas").classList.remove("opacity")
                        document.querySelector(".haut").classList.add("opacity")
                        thatDrag.userDragToTop = true
                    }
                    if (that.userDragToTop && that.userDragToBottom) {
                        // Next Slide pour
                        if (!thatDrag.emitDrag) {
                            thatDrag.$socket.emit("movingIntroduction", true)
                            thatDrag.slide.navigate('right')
                            thatDrag.slide.navigateDots(3)
                            thatDrag.emitDrag = true
                        }
                        setTimeout(() => {
                            TweenMax.staggerTo(".dots-battery--item", 1, {
                                onStart: function () {
                                    console.log("Dtos");
                                },
                                delay: 1,
                                backgroundColor: "transparent",
                                onComplete: function () {
                                },
                            }, 1)

                            setTimeout(() => {
                                TweenMax.to(".dots-battery", 0.5, {
                                    autoAlpha: 0
                                });
                                TweenMax.to(".stop-drone", 0.5, {
                                    autoAlpha: 1
                                });
                            }, 5000)

                        }, 500)

                    }
                    // emit
                };

                TweenLite.to(this.drag[0].target, 1, {
                    x: 0, y: 135.0, onComplete: () => {
                        tl.progress(.5)
                    }
                })

            },

            goToNextView() {
                this.$socket.emit("stopIntroduction", true)
                this.$router.push('understand-introduction-tuto')
                // EMIT

            },
            activeSlide() {
                this.slide = new Slideshow(document.querySelector('.slideshow'));
                this.initDragAndDrop();
                this.initGyroscope();
            }

        },
        beforeMount() {
            var orientation = screen.msOrientation || (screen.orientation || screen.mozOrientation || {}).type;
            if (orientation === "landscape-primary" || orientation === "landscape-secondary") {
                this.landscapeOrientation = true;
                this.sliderBuild = true;
                this.userRotateScreen = false
            }
        },
        created() {
            setTimeout(() => {
                this.$root.$emit('opacityBackground', 0);
                this.$root.$emit('background', "#F2F6FF");
            })
        },
        mounted() {
            this.activeSlide()
            this.rotationScreen();
        }

    };
</script>


<style scoped lang="scss">
    @import '../assets/scss/utils/variables';

    .test {
        position: absolute;
        right: 40px;
        top: 0;
    }

    span {
        .top {
            width: 36px;
            height: 78px;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAABOCAMAAACQcy+oAAAAilBMVEUAAABIYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv8iO/f8AAAALXRSTlMABPnxRxL10YHKejgO2IggGwnr5t+pnI5AK+PFr5VqVU8kvbq0dGAvY1qjoW/YOf6PAAABs0lEQVRIx42U23KrMAxFwSbcoQQIhFzJvWm7/v/3zpxOOw11aktPDCxLmy3JnhFDd/dcsW/h5GCWCVBkVuawAeqdb2NmWyCMcxszTzXQVTbGv66A080qKIiAKLAywxlorr4V6j5Fzx0eaQCV9IEVfOUrwsX4d1W/obn3CQBNOrMku3hePr5pICz/4PwI/flpfo0sLQqg/35MgGR4ih1Rh8fRUbtn1A0WPx0tgcUzW97hYaiyFqLKpCrF+nGITrA6mFgJ+8ff3j7F8ppiYkAMK7PoDj4mL1KIcsPagnrqeg9nw98Ryum5M6RGzTXqZaq1AGPpMuPoTVEY7sbr3/27QOw5w0/+q3BGBm+eOxYgSHaATpRM+SJlmSBZxFFApSAoOUAlSFbwIaC21AJqLxL2IrLfC3kVOXYWUBsSAdWxElAlWkDFQgpRxVDUokY0roWAWnMSUDVbNzSDi5sKYCmyK5eIj0SySjd1Fck60viSqe/dqXoY3No1R5FZgROqQslmvEtsCGDjhPIWXQnWlZ0Tukjq7aGduaClQt+cUIhy+jmGcBdc32oUQDoQ3Fit4Cr1fy/NP0NkMSloAektAAAAAElFTkSuQmCC');
            -webkit-background-size: cover;
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
        }
        .bot {
            display: inline-block;
            margin-left: 10px !important;
            width: 36px;
            height: 78px;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAABOCAMAAACQcy+oAAAAk1BMVEUAAABIYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv9IYv88a7ACAAAAMHRSTlMAA/vl9YmBSA/SevjgvCAbEwjy67CpnFArzcnFkGJWPTgk8Ni1opZ0bV1CLwxp2jbJEQvQAAABvElEQVRIx42W13LbQAxFrV2KXaJZxKZerWbn/P/XJfE4HmdFG9gncucMAKJc8Gng5OGT4tSkU5mKoQhUmGlkrPEwFxm7/sECBZZQ3GRsZUifZewFKkXaKniVqTClyGQs0Pk8wlqmMo9eYcwHRW7DgonC2BhamZrCWGFsgh3J1EWVjGejcjkn0qXsrirmVREYvChclpw04auKNFN95AmrKrinS5iK2mk8qqhaFX1Fp6A6DgrKY6nq/KlCoUDR+AtKRVh7zjLUQqYQdVVYkaYHN7DRNGoiO9xCrTHFVBPVUYRGHYlryp+3j9vDd65+Qfz/zS1hn7sj7FoP9xg3V40roKMKYjfQN8rQ6RgObkLPcHarHIWu+pe85c5A22xA/Fdf/Z/Abl0oS5h/lb8JpFthw61TiB4b9Aazz5d8bGB2H9oi5tN+k0JyHtbqxb/HHujbocpH7N5/HO7LCChfB5tz+S7oYXMsAG8cDjeRxV4WnQGw8V+jw6Y+jjdrvh+EHYDpF0H+syCC5+eiEhwAuxTH7toBUSAOy8UCh5vE5XEB1Jm4LU8GPP8uikL1USDhrHtgv5EVOUW1Wtt69Xj5G6xFNArUcJxhAAAAAElFTkSuQmCC');
            -webkit-background-size: cover;
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
        }
        .top, .bot {
            -webkit-transform: scale(0.7);
            -moz-transform: scale(0.7);
            -ms-transform: scale(0.7);
            -o-transform: scale(0.7);
            transform: scale(0.7);
        }
    }

    .title {
        color: $purple;
        margin: 0;
        font-size: 25px;
        line-height: 1;
        margin-bottom: -20px;
    }

    .lottie {
        &-turn {
            max-width: 370px;
            max-height: 330px;
        }
        &-avance {
            max-width: 350px;
            max-height: 300px;
        }
        &-battery {
            margin-top: 50px;
            max-width: 200px;
        }
        &-exit {
            visibility: hidden;
            opacity: 0;
            bottom: 20px;
            position: absolute;
            right: 0;

        }
    }

    .sliders {
        position: relative;
        height: 100%;
        width: 100%;
    }

    .slider-numbers {
        position: absolute;
        right: 30px;
        top: 30px;
    }

    .slide {
        width: 100%;
        height: 100%;
    }

    .introduction-tuto {
        text-align: center;
    }

    svg {
        margin: 0 auto;
    }

    .fade-enter-active, .fade-leave-active {
        transition: opacity .5s, visibility .5s;
    }

    .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */
    {
        opacity: 0;
        visibility: hidden;
    }

    #canvas {
        width: 300px !important;
        height: 300px !important;
    }

    .draggerBounds {
        z-index: 101;
        position: relative;
        left: 30px;
        width: 50px;
        height: 250px;
        background: grey;
        margin: 20px;
    }

    .dragger {
        width: 50px;
        height: 50px;
        background: red;
        text-align: center;
        line-height: 50px;
        position: absolute;
    }

    .slideshow {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        /*max-width: 700px;*/
        width: 100%;
        height: 100%;
        margin: 0 auto;
        .slide {
            padding-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-flow: column;
            position: absolute;
            opacity: 0;
        }
        .slide--current {
            opacity: 1;
            z-index: 100;
            position: relative;
        }
    }

    .boxnav__item--prev, .boxnav__item--next {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 10000;
    }

    .boxnav__item--next {
        left: 40px;

    }

    .boxnav {
        position: absolute;
        right: 30px;
        top: 30px;
    }

    .st0 {
        fill: none;
    }

    .st1 {
        fill: #DA5E60;
    }

    .st1_up {
        fill: #5F86FF;
    }

    .st2 {
        fill: #FF7F81;
    }

    .st3 {
        fill: #FFFFFF;
    }

    ul {
        position: absolute;
        width: 100%;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        max-width: 400px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding-left: 0;
        z-index: 2000;
        li {
            width: calc(100% / 4);
            margin: 0 5px;
            border-radius: 20px;
            height: 8px;
            border: 1px solid #4f65eb;
            display: inline-block;
            &.current {
                background: #4f65eb;
            }
            &.current-box {
                background: #4f65eb;
                box-shadow: 0px 0px 43.32px 13.68px rgba(101, 137, 255, 0.65);
            }
        }
    }

    svg {
        padding: 0 20px;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        max-width: 300px;
        width: 100%;
    }

    .transition-slide {
        height: 100%;
    }

    .stop-drone {
        position: absolute;
        right: 30px;
        bottom: 30px;
        display: flex;
        flex-flow: column;
        align-items: flex-end;
        opacity: 0;
        visibility: hidden;
        #stop-drone-svg {
            margin: 0;
        }
        .stop-arrow {

            display: flex;
            position: relative;
            right: 17px;
            margin-bottom: 15px;
            svg {
                margin: 0;
            }
            span {
                font-size: 24px;
                line-height: 1;
                position: relative;
                top: -20px;
                left: -20px;
            }
        }
        svg {
            width: 76px;
            height: 76px;
            padding: 0;
        }
        span {
            margin-top: 10px;
            @include f-muli-bold;
            color: $purple;
        }
        .icon-home {
            #icon-home {
                flex-flow: column;
                align-items: flex-end;
            }
            span {
                display: block;
            }
        }
    }

    .st00 {
        fill: $purple;
    }

    .st11 {
        fill: #FFFFFF;
    }

    .st22 {
        fill: none;
        stroke: #FFFFFF;
        stroke-width: 1.2873;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-miterlimit: 10;
    }

    .st33 {
        fill: none;
        stroke: #FFFFFF;
        stroke-width: 1.9309;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-miterlimit: 10;
    }

    .st23 {
        clip-path: url(#SVGID_2_);
        fill: none;
        stroke: #6589FF;
        stroke-width: 2.9582;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-miterlimit: 10;
    }

    .dots {
        &-battery {
            width: 20px;
            &--item {
                display: inline-block;
                width: 14px;
                height: 14px;
                background-color: $purple;
                border: 1px solid $purple;
                border-radius: 14px;
                margin: 0 5px;
                &.pulse {
                    animation: pulse 2s infinite; /* IE 10+, Fx 29+ */
                    animation-timing-function: ease;
                }
                @keyframes pulse {
                    0% {
                        background: $purple;
                    }
                    50% {
                        background: transparent;
                    }
                    100% {
                        background: $purple;
                    }
                }
            }

        }
    }

    .st00 {
        fill: #FF7F81;
    }

    .st11 {
        fill: #FFFFFF;
    }

    .st22 {
        fill: none;
        stroke: #FFFFFF;
        stroke-width: 1.2873;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-miterlimit: 10;
    }

    .st33 {
        fill: none;
        stroke: #FFFFFF;
        stroke-width: 1.9309;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-miterlimit: 10;
    }

    .drag-vol-trait {
        opacity: 0.8;
        fill: url(#SVGID_1_);
        enable-background: new;
    }

    .st1 {
        fill: #FF767D;
    }

    .st2 {
        fill: #FFFFFF;
    }

    .drag-left {
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        left: 30px;
        max-height: 405px;
        height: 100%;
        top: 50%;
        -webkit-transform: translateY(-50%);
        -moz-transform: translateY(-50%);
        -ms-transform: translateY(-50%);
        -o-transform: translateY(-50%);
        transform: translateY(-50%);
    }

    #drag-vol {
        width: 94px;
        max-height: 360px;
        height: 100%;
        padding: 0;
        position: relative;
    }

    .up, .bottom {
        font-size: 17px;
        color: #4867FF;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        position: absolute;
        right: -160px;
        span {
            margin-left: 20px;
            @include f-muli-bold
        }
    }

    .up {
        top: 30%;
    }

    .bottom {
        right: -190px;
        bottom: 20%;
    }

    #bottom, #top {
        padding: 0;
    }

    #bottom {
        height: 76px;
        width: 26px;
    }

    #top {
        height: 26px;
        width: 76px;
        -webkit-transform: rotate(45deg);
        -moz-transform: rotate(45deg);
        -ms-transform: rotate(45deg);
        -o-transform: rotate(45deg);
        transform: rotate(45deg);
        transform-origin: center;
    }

    #bottom {
        -webkit-transform: rotate(45deg);
        -moz-transform: rotate(45deg);
        -ms-transform: rotate(45deg);
        -o-transform: rotate(45deg);
        transform: rotate(45deg);
    }

    .up-st0 {
        clip-path: url(#SVGID_2_up);
        fill: none;
        stroke: #4C6DFB;
        stroke-width: 2.3851;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-miterlimit: 10;
    }

    .bottom-st0 {
        clip-path: url(#SVGID_2_bottom);
        fill: none;
        stroke: #4C6DFB;
        stroke-width: 2.3851;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-miterlimit: 10;
    }

    .boxnav {
        display: none;
    }

</style>
